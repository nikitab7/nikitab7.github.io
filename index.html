<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Nikita Bhardwaj</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Libre+Baskerville:wght@400;700&display=swap" rel="stylesheet">
    <style>
      .typewriter {
        overflow: hidden;
        border-right: 2px solid #000;
        white-space: nowrap;
        animation: typing 3s steps(40, end), blink-caret 0.75s step-end infinite;
      }
      
      @keyframes typing {
        from { width: 0; }
        to { width: 100%; }
      }
      
      @keyframes blink-caret {
        from, to { border-color: transparent; }
        50% { border-color: #000; }
      }
      
      .flip-card {
        perspective: 1000px;
      }
      
      .flip-card-inner {
        position: relative;
        width: 100%;
        height: 100%;
        text-align: center;
        transition: transform 0.8s;
        transform-style: preserve-3d;
      }
      
      .flip-card:hover .flip-card-inner {
        transform: rotateY(180deg);
      }
      
      .flip-card-front, .flip-card-back {
        position: absolute;
        width: 100%;
        height: 100%;
        backface-visibility: hidden;
        border-radius: 0.75rem;
      }
      
      .flip-card-front {
        background: white;
        padding: 1rem;
      }
      
      .flip-card-back {
        background: #f8f9fa;
        transform: rotateY(180deg);
        padding: 1rem;
        display: flex;
        flex-direction: column;
        justify-content: center;
      }
      
      .project-title, .project-desc {
        font-family: 'Libre Baskerville', Georgia, serif;
      }

      .cube-container {
        perspective: 1200px;
        width: 16rem;
        height: 16rem;
        display: flex;
        align-items: center;
        justify-content: center;
      }
      .cube {
        width: 16rem;
        height: 16rem;
        position: relative;
        transform-style: preserve-3d;
        transition: transform 0.7s cubic-bezier(.25,.8,.25,1);
        box-shadow: 0 8px 32px rgba(0,0,0,0.18);
      }
      .cube-container:hover .cube {
        transform: rotateY(90deg);
      }
      .cube-face {
        position: absolute;
        width: 16rem;
        height: 16rem;
        background: #fff;
        border-radius: 1rem;
        overflow: hidden;
        box-shadow: 0 2px 8px rgba(0,0,0,0.08);
        display: flex;
        align-items: center;
        justify-content: center;
      }
      .cube-face img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        border-radius: 1rem;
      }
      .cube-face.front { transform: rotateY(0deg) translateZ(8rem); }
      .cube-face.right { transform: rotateY(90deg) translateZ(8rem); }
      .cube-face.back { transform: rotateY(180deg) translateZ(8rem); }
      .cube-face.left { transform: rotateY(-90deg) translateZ(8rem); }
      .cube-face.top { transform: rotateX(90deg) translateZ(8rem); }
      .cube-face.bottom { transform: rotateX(-90deg) translateZ(8rem); }
    </style>
  </head>
  <body
    class="bg-[#fdf7f2] text-gray-900 font-sans leading-relaxed scroll-smooth"
  >
    <!-- Navigation -->
    <nav class="fixed top-0 right-0 p-6 z-50">
      <div class="flex space-x-8">
        <a href="#about" class="text-gray-700 hover:text-black transition-colors">About</a>
        <a href="#projects" class="text-gray-700 hover:text-black transition-colors">Projects</a>
        <a href="#experience" class="text-gray-700 hover:text-black transition-colors">Experience</a>
      </div>
    </nav>

    <main class="max-w-6xl mx-auto px-6">
      <!-- Hero / About -->
      <section
        id="about"
        class="max-w-3xl mx-auto px-6 min-h-screen flex flex-col justify-center items-center relative"
      >
        <div class="flex flex-col md:flex-row items-center md:items-center w-full gap-8">
          <div class="mb-4 md:mb-0 flex-shrink-0">
            <canvas id="cube-canvas" width="380" height="380" style="width: 380px; height: 380px; background: transparent; cursor: grab;"></canvas>
          </div>
          <div class="flex flex-col justify-center items-start text-left">
            <h1 class="text-5xl font-bold typewriter">Hi! I'm Nikita.</h1>
            <p class="text-2xl mt-4">I code and design things.</p>
          </div>
        </div>
        <!-- Subtle scroll arrow -->
        <div class="absolute bottom-8 left-1/2 transform -translate-x-1/2 animate-bounce">
          <svg class="w-6 h-6 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 14l-7 7m0 0l-7-7m7 7V3"></path>
          </svg>
        </div>
      </section>

      <!-- Projects -->
      <section id="projects" class="py-16 max-w-4xl mx-auto">
        <h2 class="text-5xl font-bold mb-10">My Work</h2>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-10">
          <!-- Uber Cadence Helm Chart -->
          <div class="bg-[#fdf7f2] border-2 border-black rounded-md overflow-hidden transition-transform duration-200 hover:shadow-2xl hover:scale-[1.025] cursor-pointer w-full" data-project-id="helm">
            <div class="flex flex-col" style="height: 320px;">
              <img src="https://images.unsplash.com/photo-1551288049-bebda4e38f71?w=800&h=400&fit=crop" alt="Uber Cadence" class="w-full object-cover flex-shrink-0" style="height: 65%; min-height: 120px; background: #111;" />
              <div class="flex-1 flex flex-col justify-center px-10 py-3">
                <h3 class="project-title text-base font-bold mb-1">üõ†Ô∏è Uber Cadence Helm Chart</h3>
                <p class="project-desc text-xs text-gray-700">Open-source Helm chart for Uber's workflow orchestration platform, built for scale and reliability.</p>
              </div>
            </div>
          </div>
          <!-- FitCast -->
          <div class="bg-[#fdf7f2] border-2 border-black rounded-md overflow-hidden transition-transform duration-200 hover:shadow-2xl hover:scale-[1.025] cursor-pointer w-full" data-project-id="fitcast">
            <div class="flex flex-col" style="height: 320px;">
              <img src="fitcast.png" alt="FitCast" class="w-full object-cover flex-shrink-0" style="height: 65%; min-height: 120px; background: #111;" />
              <div class="flex-1 flex flex-col justify-center px-10 py-3">
                <h3 class="project-title text-base font-bold mb-1">üå¶Ô∏è FitCast</h3>
                <p class="project-desc text-xs text-gray-700">AI-powered mobile app that recommends outfits based on the weather, using GPT and Supabase.</p>
              </div>
            </div>
          </div>
          <!-- Racial Covenants Research -->
          <div class="bg-[#fdf7f2] border-2 border-black rounded-md overflow-hidden transition-transform duration-200 hover:shadow-2xl hover:scale-[1.025] cursor-pointer w-full" data-project-id="rc">
            <div class="flex flex-col" style="height: 320px;">
              <img src="RC.png" alt="Racial Covenants Research" class="w-full object-cover flex-shrink-0" style="height: 65%; min-height: 120px; background: #111;" />
              <div class="flex-1 flex flex-col justify-center px-10 py-3">
                <h3 class="project-title text-base font-bold mb-1">üìú Racial Covenants Research</h3>
                <p class="project-desc text-xs text-gray-700">LLM-powered tool for detecting racially restrictive language in property deeds, supporting Stanford HAI research.</p>
              </div>
            </div>
          </div>
          <!-- Medieval Networks of Memory -->
          <div class="bg-[#fdf7f2] border-2 border-black rounded-md overflow-hidden transition-transform duration-200 hover:shadow-2xl hover:scale-[1.025] cursor-pointer w-full" data-project-id="mnm">
            <div class="flex flex-col" style="height: 320px;">
              <img src="mnm.png" alt="Medieval Networks of Memory" class="w-full object-cover flex-shrink-0" style="height: 65%; min-height: 120px; background: #111;" />
              <div class="flex-1 flex flex-col justify-center px-10 py-3">
                <h3 class="project-title text-base font-bold mb-1">üè∞ Medieval Networks of Memory</h3>
                <p class="project-desc text-xs text-gray-700">Detectron2 model for reading ancient Latin manuscripts, built for Stanford digital humanities research.</p>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Experience -->
      <section id="experience" class="py-16 max-w-3xl mx-auto">
        <h2 class="text-5xl font-bold mb-10">Experience</h2>
        <div class="relative pl-8">
          <!-- Vertical line -->
          <div class="absolute left-0 top-0 w-1 bg-gray-300 h-full z-0"></div>
          <!-- Uber -->
          <div class="relative mb-12">
            <div class="ml-8">
              <h3 class="text-2xl font-bold mb-1 font-sans">Uber</h3>
              <p class="project-desc text-xs text-gray-700 mb-1">Software Engineer Intern ¬∑ Jun 2024 ‚Äì Sep 2024</p>
              <a href="https://github.com/cadence-workflow/cadence-charts" class="text-blue-600 text-xs underline mb-1" target="_blank">cadence-workflow/cadence-charts</a>
              <p class="project-desc text-xs text-gray-700 mt-1">Worked on open-source workflow orchestration infrastructure for large-scale distributed systems.</p>
            </div>
          </div>
          <!-- Stanford HAI -->
          <div class="relative mb-12">
            <div class="ml-8">
              <h3 class="text-2xl font-bold mb-1 font-sans">Stanford HAI</h3>
              <p class="project-desc text-xs text-gray-700 mb-1">Research Assistant ¬∑ Dec 2023 ‚Äì Apr 2024</p>
              <a href="https://reglab.github.io/racialcovenants" class="text-blue-600 text-xs underline mb-1" target="_blank">reglab.github.io/racialcovenants</a>
              <p class="project-desc text-xs text-gray-700 mt-1">AI/data research on racially restrictive covenants and large language models for social impact.</p>
            </div>
          </div>
          <!-- ProofPilot -->
          <div class="relative mb-12">
            <div class="ml-8">
              <h3 class="text-2xl font-bold mb-1 font-sans">ProofPilot</h3>
              <p class="project-desc text-xs text-gray-700 mb-1">Machine Learning Intern ¬∑ Jun 2023 ‚Äì Sep 2023</p>
              <p class="project-desc text-xs text-gray-700 mt-1">Developed ML models and data pipelines for healthcare research and analytics.</p>
            </div>
          </div>
          <!-- Stanford CESTA -->
          <div class="relative">
            <div class="ml-8">
              <h3 class="text-2xl font-bold mb-1 font-sans">Stanford CESTA</h3>
              <p class="project-desc text-xs text-gray-700 mb-1">Research Assistant ¬∑ Dec 2021 ‚Äì Jun 2022</p>
              <p class="project-desc text-xs text-gray-700 mt-1">Worked on digital humanities projects using computer vision and data analysis.</p>
            </div>
          </div>
        </div>
      </section>
    </main>

    <!-- Add this just before </body> -->
    <script>
      // Modal logic
      const projects = [
        {
          id: 'helm',
          title: 'üõ†Ô∏è Uber Cadence Helm Chart',
          img: 'https://images.unsplash.com/photo-1551288049-bebda4e38f71?w=800&h=400&fit=crop',
          desc: `Created an open-source Helm chart for Uber's Cadence, a workflow orchestration platform that powers 270B+ monthly actions. I designed and implemented scalable infrastructure using Kubernetes, Docker, and Go, making it easy for teams to deploy and manage large-scale distributed workflows. This project improved deployment time by 80%, increased productivity, and reduced operational overhead for engineers across Uber and the open-source community.`,
          links: [
            { label: 'View on GitHub', url: 'https://github.com/cadence-workflow/cadence-charts' }
          ]
        },
        {
          id: 'fitcast',
          title: 'üå¶Ô∏è FitCast',
          img: 'fitcast.png',
          desc: `FitCast is a full-stack mobile app that uses AI to recommend what to wear based on the weather. I built the app with React Native, Supabase, and OpenAI's GPT, integrating user authentication, dynamic onboarding, and a custom navigation system. The app delivers personalized, weather-based outfit suggestions in a seamless, user-friendly experience.`,
          links: [
            { label: 'Watch Demo', url: 'https://www.youtube.com/watch?v=OGBovQcj8EU' }
          ]
        },
        {
          id: 'rc',
          title: 'üìú Racial Covenants Research',
          img: 'RC.png',
          desc: `At Stanford HAI, I worked on a research project to detect racially restrictive language in property deeds using large language models. I fine-tuned the Mistral 7B LLM on thousands of annotated documents, improving the model's accuracy by 30%. My work contributed to a peer-reviewed publication and supported impactful research on housing discrimination.`,
          links: [
            { label: 'View Project', url: 'https://reglab.github.io/racialcovenants' }
          ]
        },
        {
          id: 'mnm',
          title: 'üè∞ Medieval Networks of Memory',
          img: 'mnm.png',
          desc: `For Stanford Text Technologies, I trained a Detectron2 computer vision model to recognize paragraphs in ancient Latin manuscripts with 98% accuracy. This project supported digital humanities research, enabling scholars to analyze and map medieval networks of memory. I also documented the technical process and contributed to interactive research tools and publications.`,
          links: [
            { label: 'View Project', url: 'https://medievalnetworks.github.io/mnm/st-johns/' },
            { label: 'Documentation & Code', url: 'https://small-food-41d.notion.site/Bounding-Boxes-Documentation-22ea4b1b5cc948db8890511a194b5f8e' }
          ]
        }
      ];

      function openModal(id) {
        const modal = document.getElementById('project-modal');
        const content = document.getElementById('project-modal-content');
        const project = projects.find(p => p.id === id);
        if (!project) return;
        content.innerHTML = `
          <button id='close-modal' class='absolute top-4 right-4 text-2xl font-bold text-gray-400 hover:text-black'>&times;</button>
          <img src='${project.img}' alt='${project.title}' class='w-full h-56 object-cover rounded-md mb-6' />
          <h2 class='project-title text-lg font-bold mb-2'>${project.title}</h2>
          <p class='project-desc mb-4 text-sm text-gray-700'>${project.desc}</p>
          <div class='flex flex-col gap-2'>
            ${project.links.map(l => `<a href='${l.url}' target='_blank' class='text-blue-600 underline text-xs'>${l.label}</a>`).join('')}
          </div>
        `;
        modal.classList.remove('hidden');
        setTimeout(() => {
          document.getElementById('close-modal').onclick = closeModal;
        }, 10);
      }
      function closeModal() {
        document.getElementById('project-modal').classList.add('hidden');
      }
      window.addEventListener('DOMContentLoaded', () => {
        document.querySelectorAll('[data-project-id]').forEach(card => {
          card.onclick = () => openModal(card.getAttribute('data-project-id'));
        });
        document.getElementById('project-modal').onclick = function(e) {
          if (e.target === this) closeModal();
        };
      });
    </script>

    <!-- Modal HTML -->
    <div id="project-modal" class="hidden fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50">
      <div id="project-modal-content" class="relative bg-[#fdf7f2] border-2 border-black rounded-md shadow-2xl max-w-lg w-full p-8 flex flex-col items-center"></div>
    </div>

    <!-- Add Three.js, OrbitControls, and RoundedBoxGeometry CDN -->
    <script src="https://cdn.jsdelivr.net/npm/three@0.146.0/build/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.146.0/examples/js/controls/OrbitControls.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.146.0/examples/js/geometries/RoundedBoxGeometry.min.js"></script>

    <script>
    window.addEventListener('DOMContentLoaded', () => {
      // Three.js draggable cube
      const canvas = document.getElementById('cube-canvas');
      if (!canvas) return;
      const scene = new THREE.Scene();
      const camera = new THREE.PerspectiveCamera(75, 1, 0.1, 1000);
      const renderer = new THREE.WebGLRenderer({ canvas, alpha: true, antialias: true });
      renderer.setClearColor(0x000000, 0); // transparent background
      renderer.setSize(380, 380);
      renderer.shadowMap.enabled = true;
      renderer.shadowMap.type = THREE.PCFSoftShadowMap;

      // Add a plane for the shadow
      const planeGeometry = new THREE.PlaneGeometry(4, 4);
      const planeMaterial = new THREE.ShadowMaterial({ opacity: 0.18 });
      const plane = new THREE.Mesh(planeGeometry, planeMaterial);
      plane.rotation.x = -Math.PI / 2;
      plane.position.y = -1.25;
      plane.receiveShadow = true;
      scene.add(plane);

      // Cube
      // Use RoundedBoxGeometry for soft edges
      // Assumes RoundedBoxGeometry is loaded from CDN
      const geometry = new THREE.RoundedBoxGeometry(2.1, 2.1, 2.1, 6, 0.05);
      const loader = new THREE.TextureLoader();
      // Load all three images, then create the cube
      const images = ['cropped2.png', 'b2b2.png', 'frock2.png'];
      let loaded = 0;
      const textures = [];
      images.forEach((img, i) => {
        loader.load(img, function(tex) {
          tex.minFilter = THREE.LinearFilter;
          tex.magFilter = THREE.LinearFilter;
          tex.anisotropy = renderer.capabilities.getMaxAnisotropy();
          // Pre-rotate textures for correct orientation on cube faces
          // We'll clone the textures for faces that need different rotation
          textures[i] = tex;
          loaded++;
          if (loaded === images.length) makeCube();
        });
      });

      function makeCube() {
        // Assign images to faces: front=cropped2, right=b2b2, back=frock2, left=b2b2, top=frock2, bottom=b2b2
        // Order: [right, left, top, bottom, front, back]
        // We'll clone and rotate textures as needed for upright orientation
        function cloneAndRotate(tex, radians) {
          const t = tex.clone();
          t.center.set(0.5, 0.5);
          t.rotation = radians;
          t.needsUpdate = true;
          return t;
        }
        const materials = [
          new THREE.MeshBasicMaterial({ map: cloneAndRotate(textures[1], -Math.PI/2) }), // right: b2b2, rotate -90deg
          new THREE.MeshBasicMaterial({ map: cloneAndRotate(textures[1], Math.PI/2) }),  // left: b2b2, rotate +90deg
          new THREE.MeshBasicMaterial({ map: cloneAndRotate(textures[2], Math.PI) }),    // top: frock2, rotate 180deg
          new THREE.MeshBasicMaterial({ map: cloneAndRotate(textures[1], Math.PI) }),    // bottom: b2b2, rotate 180deg
          new THREE.MeshBasicMaterial({ map: textures[0] }),                            // front: cropped2, no rotation
          new THREE.MeshBasicMaterial({ map: textures[2] })                             // back: frock2, no rotation
        ];
        const cube = new THREE.Mesh(geometry, materials);
        cube.castShadow = true;
        cube.position.y = 0;
        // Start the cube with the front face (cropped2.png) facing the camera
        cube.rotation.set(0, 0, 0);
        scene.add(cube);

        camera.position.set(0, 0, 3.5);
        const controls = new THREE.OrbitControls(camera, renderer.domElement);
        controls.enablePan = false;
        controls.enableZoom = false;

        canvas.addEventListener('pointerover', () => { canvas.style.cursor = 'grab'; });
        canvas.addEventListener('pointerdown', () => { canvas.style.cursor = 'grabbing'; });
        canvas.addEventListener('pointerup', () => { canvas.style.cursor = 'grab'; });
        canvas.addEventListener('pointerleave', () => { canvas.style.cursor = 'grab'; });

        let floatStart = Date.now();
        function animate() {
          requestAnimationFrame(animate);
          const t = (Date.now() - floatStart) / 1000;
          // Floating animation
          cube.position.y = 0.2 * Math.sin(t * 2) + 0;
          // Natural rotation
          cube.rotation.y += 0.01;
          cube.rotation.x += 0.005;
          renderer.render(scene, camera);
        }
        animate();
      }
    });
    </script>
  </body>
</html>
